<!DOCTYPE html>

<html lang="uk">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>CORINS</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.css" rel="stylesheet">





  <!-- LInks do UPLOAD MASTER-->

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css"
    integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">

  <!-- Custom styles -->

  <link href="uploader_master/dist/css/jquery.dm-uploader.min.css" rel="stylesheet">
  <!--<link href="uploader_master/demo/styles.css" rel="stylesheet">-->
  <style>
    .loading {
    position: fixed;
    top: 0; right: 0;
    bottom: 0; left: 0;
    background: rgba(5,5,5,0.7);
}
.loader {
    left: 50%;
    margin-left: -4em;
    font-size: 10px;
    border: .8em solid rgba(218, 219, 223, 1);
    border-left: .8em solid rgba(0, 6, 165, 1);
    animation: spin 1.1s infinite linear;
}
.loader, .loader:after {
    border-radius: 50%;
    width: 8em;
    height: 8em;
    display: block;
    position: absolute;
    top: 50%;
    margin-top: -4.05em;
}

@keyframes spin {
  0% {
    transform: rotate(360deg);
  }
  100% {
    transform: rotate(0deg);
  }
}
  </style>
</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" id='corinsLogo' href="index.html">
        <img src="img/logo.png"  class="img-fluid" alt="Responsive image">
        <div class="sidebar-brand-text mx-3">CORINS</div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Home -->
      <li class="nav-item active">
        <a class="nav-link" href="index.html">
          <i class="fas fa-home"></i>
          <span>Home</span></a>
      </li>

      <!-- Nav Item - Dashboard -->
      <li class="nav-item desactive">
        <a class="nav-link" href="resultado01.html" style="pointer-events: none">
          <i class="fas fa-cogs"></i>
          <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">


      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of Sidebar -->


    <!-- Content Wrapper -->

    <div id="content-wrapper" class="d-flex flex-column">
      <!-- begin of Main Content -->
      <div class="container-fluid">
        <div class="row">
          <br>
        </div>
        <div class="row">
          <div class="col-lg-6">




            <!-- 1 Card -->
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Comparator of Residue Interaction Networks</h6>
              </div>
              <div class="card-body">
                CORINS is a comparison tool for two or more Residue Interaction Networks generated by the RING
                software,
                taking into account the position of the residue, the chain, as well as its interactions with other
                amino
                acids.
              </div>
            </div>


            <!-- 2 card -->
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Citing CORINS</h6>
              </div>
              <div class="card-body">
                To cite the corins use: <br>
                TextTexTextTextTextTextTextTexTextTextTextTextTextTextTextTextTextTextText
              </div>
            </div>

          </div>

          <div class="col-lg-6">




            <!-- 3  Card -->
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">How to Use</h6>
              </div>
              <div class="card-body">
                In order to use CORINS, the output files of the RING software in .txt format are necessary in order
                to compare confimer residues. To do this follow the following steps:


                <ul>
                  <li> Access the RING through the link.</li>
                  <li> Enter the desired PDB ID code and click Submit.</li>
                  <li> Click Network (TXT) to download the files.</li>
                  <li> Repeat the process until you get all the RINs that you want to compare by putting the files in
                    the same folder.</li>
                  <li> In Corins, drag the compressed files in the Drag and drop field or click load to select the
                    files. </li>
                  <li> After upload confirmation, click "Click here to start!" to process and view the result.</li>
                </ul>
              </div>
            </div>



          </div>


        </div>



        <div class="row">
          <div class="col-lg-6">




            <!-- 4 Card  Upload files-->
            <div class="card shadow mb-4">
              <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Upload Files</h6>
              </div>
              <div class="card-body">

                <!-- INICIO-->


                <div class="row">
                  <div class="col-md-6 col-sm-12">

                    <!-- Our markup, the important part here! -->
                    <div id="drag-and-drop-zone" class="dm-uploader p-5">
                      <br><br>
                      <!-- <h3 class="mb-5 mt-5 text-muted">Drag &amp; drop files here</h3> -->
                      <div class="btn btn-primary btn-block mb-5">
                        <span>Load</span>
                        <input id="allfiles" name="ufile[]" type="file" title='Click to add Files'  multiple/>
                      </div>
                    </div><!-- /uploader -->

                  </div>
                  <div class="col-md-6 col-sm-12">
                    <div class="card h-100" >
                      <div class="card-header font-weight-bold text-primary" >
                        File List
                      </div>

                      <ul class="list-unstyled p-2 d-flex flex-column col" id="files" style="overflow: auto" >
                        <li class="text-muted text-center empty">No files uploaded.</li>
                      </ul>
                    </div>
                  </div>

                </div> <!-- /debug -->


                <!--FIM-->
                <div class="loading" id='spinner'>
                    <div class="loader"></div>
                </div>



              </div>
              
              <a href="" id="startProcess" class="btn btn-primary btn-icon-split btn-sm" >
                  <span class="icon text-white-50">
                    <i class="fas fa-flag"></i>
                  </span>
                  <span class="text" id="">Click here to start!</span>
              </a>
              
            </div>
          </div>





        </div>
        <!-- End of Main Content -->















        <!-- Footer -->
        <footer class="sticky-footer bg-white">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span>Copyright &copy; Felipe Vieira-> (2019)</span>
            </div>
          </div>
        </footer>
        <!-- End of Footer -->

      </div>
      <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">Ã—</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <a class="btn btn-primary" href="login.html">Logout</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
   
    <script>
       $(document).ready(function(){
        $('#spinner').hide();
       });
       $('#corinsLogo').click(function(){
          $('#spinner').hide();
       });
        var files = [];
        $("#allfiles").change(function(){
          var ele = document.getElementById($(this).attr('id'));
          for (file of ele.files){
            files.push(file); 
          }
        });
        $("#startProcess").click(function(e){
            $('#spinner').toggle();
            e.preventDefault();
            var formData = new FormData();
            for (file of files){
              formData.append('files', file);
            }
            formData.append('csrfmimddlewaretoken', jQuery("[name=csrfmiddlewaretoken]").val());

            $.ajax({
              url : 'http://127.0.0.1:8000/core/', 
              method : 'POST',
              contentType : false,
              processData : false,
              data : formData,
              success : function(data){
                console.log(data)
                $('#spinner').toggle();
                window.location.href = 'http://localhost/site/resultado01.html?pasta='+data.pasta+'&lista='+data.arquivos ;
              }
            })
            files = [];
        });
      
       
      </script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="js/demo/chart-area-demo.js"></script>
    <script src="js/demo/chart-pie-demo.js"></script>





    <!--scripts do UPLOAD MASTER-->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"
      integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4"
      crossorigin="anonymous"></script>

    <script src="uploader_master/dist/js/jquery.dm-uploader.min.js"></script>
    <script src="uploader_master/demo/demo-ui.js"></script>
    <script src="uploader_master/demo/demo-config.js"></script>


    <!-- File item template -->
    <script type="text/html" id="files-template">
      <li class="media">
        <div class="media-body mb-1">
          <p class="mb-2">
            <strong>%%filename%%</strong> - Status: <span class="text-muted">Waiting</span>
          </p>
          <div class="progress mb-2">
            <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" 
              role="progressbar"
              style="width: 0%" 
              aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
          <hr class="mt-1 mb-1" />
        </div>
      </li>
    </script>

    <!-- Debug item template -->
    <script type="text/html" id="debug-template">
      <li class="list-group-item text-%%color%%"><strong>%%date%%</strong>: %%message%%</li>
    </script>

</body>

</html>
